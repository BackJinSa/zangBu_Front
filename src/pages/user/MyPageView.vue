<script setup>
// ë§ˆì´í˜ì´ì§€ ê´€ë ¨ ë¡œì§
import PropertyCard from '@/components/common/PropertyCard.vue'
import { ref } from 'vue'

// ì‚¬ìš©ì ì •ë³´
const user = {
  name: 'ê¹€ì² ìˆ˜',
  email: 'kim.chulsoo@example.com',
  bookmarked: 5,
  registered: 2,
}

const selectedTab = ref('favorite')

// ì˜ˆì‹œ ë°ì´í„°
const favoriteProperties = [
  { id: 1, title: 'ì°œ ë§¤ë¬¼ A', imageUrl: '', price: '3ì–µ', location: 'ì„œìš¸', type: 'ë§¤ë§¤' },
  { id: 2, title: 'ì°œ ë§¤ë¬¼ B', imageUrl: '', price: '2ì–µ', location: 'ì¸ì²œ', type: 'ë§¤ë§¤' },
  { id: 6, title: 'ì°œ ë§¤ë¬¼ B', imageUrl: '', price: '2ì–µ', location: 'ì¸ì²œ', type: 'ì›”ì„¸' },
  { id: 7, title: 'ì°œ ë§¤ë¬¼ B', imageUrl: '', price: '2ì–µ', location: 'ì¸ì²œ', type: 'ì›”ì„¸' },
  { id: 8, title: 'ì°œ ë§¤ë¬¼ B', imageUrl: '', price: '2ì–µ', location: 'ì¸ì²œ', type: 'ì›”ì„¸' },
]

const myProperties = [
  { id: 3, title: 'ë‚´ ë§¤ë¬¼ A', imageUrl: '', price: '4ì–µ', location: 'ë¶€ì‚°', type: 'ì „ì„¸' },
  { id: 4, title: 'ë‚´ ë§¤ë¬¼ B', imageUrl: '', price: '1.5ì–µ', location: 'ëŒ€êµ¬', type: 'ë§¤ë§¤' },
  { id: 5, title: 'ë‚´ ë§¤ë¬¼ B', imageUrl: '', price: '1.5ì–µ', location: 'ëŒ€êµ¬', type: 'ë§¤ë§¤' },
]
</script>

<template>
  <section class="px-6 py-10 bg-gray-50 min-h-screen">
    <!-- ì œëª© -->
    <h1 class="text-2xl font-bold text-center mb-4">ğŸ¡ ë§ˆì´í˜ì´ì§€</h1>
    <p class="text-xs text-center mb-8">ê³„ì •ì„ ê´€ë¦¬í•˜ê³  ì €ì¥ëœ ë§¤ë¬¼ì„ í™•ì¸í•˜ì„¸ìš”.</p>

    <!-- ì‚¬ìš©ì ì¹´ë“œ -->
    <div class="bg-white shadow rounded-xl p-6 max-w-6xl mx-auto mb-4 flex items-center">
      <div
        class="w-16 h-16 bg-brand-3 rounded-full flex items-center justify-center text-xl font-bold text-white"
      >
        {{ user.name.charAt(0) }}
      </div>
      <div class="ml-4">
        <p class="font-semibold text-lg">{{ user.name }}</p>
        <p class="text-sm text-gray-600">{{ user.email }}</p>
        <div class="flex space-x-4 mt-2 text-gray-700">
          <!-- ì°œí•œ ë§¤ë¬¼ -->
          <div class="stat-block">
            <div class="stat-number">{{ favoriteProperties.length }}</div>
            <div class="stat-label">ì°œí•œ ë§¤ë¬¼</div>
          </div>
          <!-- ë“±ë¡í•œ ë§¤ë¬¼ -->
          <div class="stat-block">
            <div class="stat-number">{{ user.registered }}</div>
            <div class="stat-label">ë“±ë¡í•œ ë§¤ë¬¼</div>
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons mt-6 p-6">
      <router-link to="/user/profile-edit" class="primary-button">ê°œì¸ ì •ë³´ ìˆ˜ì •</router-link>
      <router-link to="/auth/login" class="primary-button">ë¡œê·¸ì•„ì›ƒ</router-link>
      <router-link to="/user/withdraw" class="secondary-button">ê³„ì • ì‚­ì œ</router-link>
    </div>

    <!-- ì°œí•œ/ë“±ë¡í•œ ë§¤ë¬¼ ì„¹ì…˜ -->
    <div class="max-w-6xl mx-auto mt-6 p-6 rounded-lg mb-20" style="background: var(--bg-1)">
      <!-- íƒ­ ë²„íŠ¼ -->
      <div class="flex justify-center gap-4 mb-6">
        <button
          class="tab-button"
          :class="{ active: selectedTab === 'favorite' }"
          @click="selectedTab = 'favorite'"
        >
          ğŸ’š ë‚´ê°€ ì°œí•œ ë§¤ë¬¼
        </button>
        <button
          class="tab-button"
          :class="{ active: selectedTab === 'my' }"
          @click="selectedTab = 'my'"
        >
          ğŸ  ë‚´ê°€ ë“±ë¡í•œ ë§¤ë¬¼
        </button>
      </div>

      <!-- ì œëª©ê³¼ êµ¬ë¶„ì„  -->
      <div class="text-left mb-6">
        <h2 class="text-xl font-semibold">
          {{ selectedTab === 'favorite' ? 'ğŸ’š ë‚´ê°€ ì°œí•œ ë§¤ë¬¼' : 'ğŸ  ë‚´ê°€ ë“±ë¡í•œ ë§¤ë¬¼' }}
        </h2>
        <hr class="mt-2" />
      </div>

      <!-- ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <PropertyCard
          v-for="property in selectedTab === 'favorite' ? favoriteProperties : myProperties"
          :key="property.id"
          :property="property"
        />
      </div>
    </div>
  </section>
</template>

<style scoped>
.stat-block {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.stat-number {
  font-size: 20px;
  font-weight: 700;
  color: var(--brand-3); /* ê°•ì¡° ìƒ‰ */
  margin-bottom: 4px;
}

.stat-label {
  font-size: 13px;
  color: var(--text-2);
}

.tab-button {
  padding: 0.5rem 1.5rem;
  border-radius: 8px;
  border: 1.5px solid var(--brand-3);
  background-color: var(--bg-2);
  color: var(--text-1);
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.tab-button.active {
  background-color: var(--brand-3);
  color: var(--text-3);
}

.action-buttons {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 16px;
}

.primary-button {
  height: 40px;
  padding: 0 20px;
  background: var(--brand-3);
  border-radius: 8px;
  border: none;
  cursor: pointer;
  color: var(--text-3);
  font-size: 14px;
  font-weight: 600;
  font-family: 'Inter', sans-serif;
  transition: background-color 0.2s ease;
  text-align: center;
  line-height: 40px;
  text-decoration: none;
  display: inline-block;
}

.primary-button:hover {
  background: var(--brand-2);
}

.secondary-button {
  height: 40px;
  padding: 0 20px;
  border-radius: 8px;
  border: 2px solid var(--status-2);
  background: var(--bg-2);
  cursor: pointer;
  color: var(--status-2);
  font-size: 14px;
  font-weight: 600;
  font-family: 'Inter', sans-serif;
  transition: all 0.2s ease;
  text-align: center;
  line-height: 40px;
  text-decoration: none;
  display: inline-block;
}

.secondary-button:hover {
  background: #fef2f2;
}
</style>
